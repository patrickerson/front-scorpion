{"ast":null,"code":"import _regeneratorRuntime from\"/home/react-vm/dev/projects/freelancer/front-scorpion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/react-vm/dev/projects/freelancer/front-scorpion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/react-vm/dev/projects/freelancer/front-scorpion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/react-vm/dev/projects/freelancer/front-scorpion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/react-vm/dev/projects/freelancer/front-scorpion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/react-vm/dev/projects/freelancer/front-scorpion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from\"react\";import moment from\"moment\";var _Page=/*#__PURE__*/function(_Component){_inherits(_Page,_Component);var _super=_createSuper(_Page);function _Page(){var _this;_classCallCheck(this,_Page);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.getParam=function(attr){return(_this.props.match?_this.props.match.params||{}:{})[attr];};_this.update=function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this.state;return _this._canUpdate&&_this.setState(state);};_this.loading=function(){return _this.update({loading:true});};_this.loaded=function(){return _this.update({loading:false});};_this._handleInputChange=function(e){var target=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this.state;target[e.target.name]=e.target.value;return _this.update();};_this.getModel=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(+_this.getParam(\"id\")){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:return _context2.abrupt(\"return\",_this.service.get(_this.getParam(\"id\")).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=_ref2.data;_context.next=3;return _this.update({model:data});case 3:if(data.account_opened){data.account_opened=moment(data.account_opened);}if(data.last_login){data.last_login=moment(data.last_login);}if(data.respond_date){data.respond_date=moment(data.respond_date);}if(data.last_transaction){data.last_transaction=moment(data.last_transaction);}if(_this.formRef){_this.formRef.setFieldsValue(data);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref3.apply(this,arguments);};}()));case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _this;}_createClass(_Page,[{key:\"componentDidMount\",value:function componentDidMount(){this._canUpdate=true;}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._canUpdate=false;}}]);return _Page;}(Component);export default _Page;","map":{"version":3,"sources":["/home/react-vm/dev/projects/freelancer/front-scorpion/src/pages/_Page.js"],"names":["Component","moment","_Page","getParam","attr","props","match","params","update","state","_canUpdate","setState","loading","loaded","_handleInputChange","e","target","name","value","getModel","service","get","then","data","model","account_opened","last_login","respond_date","last_transaction","formRef","setFieldsValue"],"mappings":"q/BAAA,OAAQA,SAAR,KAAwB,OAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,C,GAEMC,CAAAA,K,uTASJC,Q,CAAW,SAACC,IAAD,CAAU,CACnB,MAAO,CAAC,MAAKC,KAAL,CAAWC,KAAX,CAAmB,MAAKD,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,EAA2B,EAA9C,CAAmD,EAApD,EAAwDH,IAAxD,CAAP,CACD,C,OAEDI,M,CAAS,UAAwB,IAAvBC,CAAAA,KAAuB,2DAAf,MAAKA,KAAU,CAC/B,MAAO,OAAKC,UAAL,EAAmB,MAAKC,QAAL,CAAcF,KAAd,CAA1B,CACD,C,OAEDG,O,CAAU,UAAM,CACd,MAAO,OAAKJ,MAAL,CAAY,CAACI,OAAO,CAAE,IAAV,CAAZ,CAAP,CACD,C,OAEDC,M,CAAS,UAAM,CACb,MAAO,OAAKL,MAAL,CAAY,CAACI,OAAO,CAAE,KAAV,CAAZ,CAAP,CACD,C,OAEDE,kB,CAAqB,SAACC,CAAD,CAA4B,IAAxBC,CAAAA,MAAwB,2DAAf,MAAKP,KAAU,CAC/CO,MAAM,CAACD,CAAC,CAACC,MAAF,CAASC,IAAV,CAAN,CAAwBF,CAAC,CAACC,MAAF,CAASE,KAAjC,CACA,MAAO,OAAKV,MAAL,EAAP,CACD,C,OAGDW,Q,sEAAW,2IACJ,CAAC,MAAKhB,QAAL,CAAc,IAAd,CADG,oGAKF,MAAKiB,OAAL,CACJC,GADI,CACA,MAAKlB,QAAL,CAAc,IAAd,CADA,EAEJmB,IAFI,2FAEC,iJAAQC,IAAR,OAAQA,IAAR,uBACE,OAAKf,MAAL,CAAY,CAACgB,KAAK,CAAED,IAAR,CAAZ,CADF,QAGJ,GAAIA,IAAI,CAACE,cAAT,CAAyB,CACvBF,IAAI,CAACE,cAAL,CAAsBxB,MAAM,CAACsB,IAAI,CAACE,cAAN,CAA5B,CACD,CAED,GAAIF,IAAI,CAACG,UAAT,CAAqB,CACnBH,IAAI,CAACG,UAAL,CAAkBzB,MAAM,CAACsB,IAAI,CAACG,UAAN,CAAxB,CACD,CAED,GAAIH,IAAI,CAACI,YAAT,CAAuB,CACrBJ,IAAI,CAACI,YAAL,CAAoB1B,MAAM,CAACsB,IAAI,CAACI,YAAN,CAA1B,CACD,CAED,GAAIJ,IAAI,CAACK,gBAAT,CAA2B,CACzBL,IAAI,CAACK,gBAAL,CAAwB3B,MAAM,CAACsB,IAAI,CAACK,gBAAN,CAA9B,CACD,CAED,GAAI,MAAKC,OAAT,CAAkB,CAChB,MAAKA,OAAL,CAAaC,cAAb,CAA4BP,IAA5B,EACD,CArBG,sDAFD,gEALE,0D,gGA9BS,CAClB,KAAKb,UAAL,CAAkB,IAAlB,CACD,C,mEAEsB,CACrB,KAAKA,UAAL,CAAkB,KAAlB,CACD,C,mBAPiBV,S,EAgEpB,cAAeE,CAAAA,KAAf","sourcesContent":["import {Component} from \"react\";\nimport moment from \"moment\";\n\nclass _Page extends Component {\n  componentDidMount() {\n    this._canUpdate = true;\n  }\n\n  componentWillUnmount() {\n    this._canUpdate = false;\n  }\n\n  getParam = (attr) => {\n    return (this.props.match ? this.props.match.params || {} : {})[attr];\n  };\n\n  update = (state = this.state) => {\n    return this._canUpdate && this.setState(state);\n  };\n\n  loading = () => {\n    return this.update({loading: true});\n  };\n\n  loaded = () => {\n    return this.update({loading: false});\n  };\n\n  _handleInputChange = (e, target = this.state) => {\n    target[e.target.name] = e.target.value;\n    return this.update();\n  };\n\n  // funcao util para buscar os dados do model\n  getModel = async () => {\n    if (!+this.getParam(\"id\")) {\n      return;\n    }\n\n    return this.service\n      .get(this.getParam(\"id\"))\n      .then(async ({data}) => {\n        await this.update({model: data});\n\n        if (data.account_opened) {\n          data.account_opened = moment(data.account_opened);\n        }\n\n        if (data.last_login) {\n          data.last_login = moment(data.last_login);\n        }\n\n        if (data.respond_date) {\n          data.respond_date = moment(data.respond_date);\n        }\n\n        if (data.last_transaction) {\n          data.last_transaction = moment(data.last_transaction);\n        }\n\n        if (this.formRef) {\n          this.formRef.setFieldsValue(data);\n        }\n      });\n  };\n}\n\nexport default _Page;\n"]},"metadata":{},"sourceType":"module"}